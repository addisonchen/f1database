{% extends "add_files/add_data.html" %}

{% block links %}

  <li class="nav-item">
    <a class="nav-link" href="{{ url_for('add_season_page') }}">Season</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="{{ url_for('add_race_page') }}">Race</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="{{ url_for('add_result_page') }}">Result</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="{{ url_for('add_team_page') }}">Team</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="{{ url_for('add_driver_page') }}">Driver</a>
  </li>
  <li class="nav-item">
    <a class="nav-link active" href="{{ url_for('add_principal_page') }}">Principal</a>
  </li>

{% endblock links %}

{% block form %}
  <div class="form-section">
    <form method="POST" action="">
      {{ form.hidden_tag() }}
      <fieldset class="form-group">
        <legend class="border-bottom mb-4">Add a principal</legend>
        <div class="form-group">
          <label>{{ form.fname.label() }}</label>
          {% if form.fname.errors %}
            {{ form.fname(class="form-control is-invalid") }}
              <div class="invalid-feedback">
                {% for error in form.fname.errors %}
                  <span>{{ error }}</span>
                {% endfor %}
              </div>
          {% else %}
            {{ form.fname(class="form-control") }}
          {% endif %}
        </div>
        <div class="form-group">
          <label>{{ form.lname.label() }}</label>
          {% if form.lname.errors %}
            {{ form.lname(class="form-control is-invalid") }}
              <div class="invalid-feedback">
                {% for error in form.lname.errors %}
                  <span>{{ error }}</span>
                {% endfor %}
              </div>
          {% else %}
            {{ form.lname(class="form-control") }}
          {% endif %}
        </div>
        <div class="form-group">
          <label>{{ form.username.label() }}</label>
          {% if form.username.errors %}
            {{ form.username(class="form-control is-invalid") }}
              <div class="invalid-feedback">
                {% for error in form.username.errors %}
                  <span>{{ error }}</span>
                {% endfor %}
              </div>
          {% else %}
            {{ form.username(class="form-control") }}
            <small class="form-text text-muted">
              Can be left blank
            </small>
          {% endif %}
        </div>
        <div class="form-group">
          <label>{{ form.team.label() }}</label>
          {{ form.team(class="form-control") }}
        </div>
      </fieldset>
      <div class="form-group">
        {% if form.team.choices|length == 0 %}
          {{ form.submit(class="btn btn-outline-info disabled") }}
          <small class="form-text text-muted">
            There are no teams to choose from
          </small>
        {% else %}
          {{ form.submit(class="btn btn-outline-info") }}
        {% endif %}
      </div>
    </form>

  </div>
{% endblock form%}