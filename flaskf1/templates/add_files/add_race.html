{% extends "add_files/add_data.html" %}

{% block links %}

  <li class="nav-item">
    <a class="nav-link" href="{{ url_for('add_season_page') }}">Season</a>
  </li>
  <li class="nav-item">
    <a class="nav-link active" href="{{ url_for('add_race_page') }}">Race</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="{{ url_for('add_result_page') }}">Result</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="{{ url_for('add_team_page') }}">Team</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="{{ url_for('add_driver_page') }}">Driver</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="{{ url_for('add_principal_page') }}">Principal</a>
  </li>

{% endblock links %}

{% block form %}
  <div class="form-section">
    <form method="POST" action="">
      {{ form.hidden_tag() }}
      <fieldset class="form-group">
        <legend class="border-bottom mb-4">Add a race</legend>
        <div class="form-group">
          <label>{{ form.track.label() }}</label>
          {% if form.track.errors %}
            {{ form.track(class="form-control is-invalid") }}
              <div class="invalid-feedback">
                {% for error in form.track.errors %}
                  <span>{{ error }}</span>
                {% endfor %}
              </div>
          {% else %}
            {{ form.track(class="form-control") }}
          {% endif %}
        </div>
        <div class="form-group">
          <label>{{ form.date.label() }}</label>
          {% if form.date.errors %}
            {{ form.date(class="form-control is-invalid") }}
              <div class="invalid-feedback">
                {% for error in form.date.errors %}
                  <span>{{ error }}</span>
                {% endfor %}
              </div>
          {% else %}
            {{ form.date(class="form-control") }}
          {% endif %}
          <small class="form-text text-muted">
            YYYY-MM-DD
          </small>
        </div>
        <div class="form-group">
          <label>{{ form.season.label() }}</label>
          {{ form.season(class="form-control") }}
        </div>
      </fieldset>
      <div class="form-group">
        {% if form.season.choices|length == 0 %}
          {{ form.submit(class="btn btn-outline-info disabled") }}
          <small class="form-text text-muted">
            There are no seasons
          </small>
        {% else %}
          {{ form.submit(class="btn btn-outline-info") }}
        {% endif %}
      </div>
    </form>
  </div>
{% endblock form %}